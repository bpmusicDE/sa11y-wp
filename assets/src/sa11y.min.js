/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /gh/ryersondmp/sa11y@2.1.8/src/sa11y.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*-----------------------------------------------------------------------
* Sa11y: the accessibility quality assurance assistant.    
* @version: 2.1.8            
* @author: Development led by Adam Chaboryk, CPWA at Ryerson University.
* All acknowledgements and contributors: https://github.com/ryersondmp/sa11y
* @license: https://github.com/ryersondmp/sa11y/blob/master/LICENSE.md
* Copyright (c) 2020 - 2022 Ryerson University
* The above copyright notice shall be included in all copies or substantial portions of the Software.
------------------------------------------------------------------------*/
class Sa11y{"use strict";constructor(e){let t={checkRoot:"body",containerIgnore:".sa11y-ignore",contrastIgnore:".sr-only",outlineIgnore:"",headerIgnore:"",imageIgnore:"",linkIgnore:'nav *, [role="navigation"] *',linkIgnoreSpan:"",linksToFlag:"",nonConsecutiveHeadingIsError:!0,flagLongHeadings:!0,showGoodLinkButton:!0,detectSPArouting:!1,doNotRun:"",readabilityPlugin:!0,readabilityRoot:"body",readabilityLang:"en",readabilityIgnore:"",contrastPlugin:!0,formLabelsPlugin:!0,linksAdvancedPlugin:!0,customChecks:!1,badLinksQA:!0,strongItalicsQA:!0,pdfQA:!0,langQA:!0,blockquotesQA:!0,tablesQA:!0,allCapsQA:!0,fakeHeadingsQA:!0,fakeListQA:!0,duplicateIdQA:!0,underlinedTextQA:!0,embeddedContentAll:!0,embeddedContentAudio:!0,embeddedContentVideo:!0,embeddedContentTwitter:!0,embeddedContentDataViz:!0,embeddedContentTitles:!0,embeddedContentGeneral:!0,videoContent:"youtube.com, vimeo.com, yuja.com, panopto.com",audioContent:"soundcloud.com, simplecast.com, podbean.com, buzzsprout.com, blubrry.com, transistor.fm, fusebox.fm, libsyn.com",dataVizContent:"datastudio.google.com, tableau",twitterContent:"twitter-timeline",embeddedContent:""};t.embeddedContent=`${t.videoContent}, ${t.audioContent}, ${t.dataVizContent}, ${t.twitterContent}`,e={...t,...e};const a=sa11yLang;this.initialize=()=>{var t;e.doNotRun.trim().length>0&&document.querySelector(e.doNotRun)||(this.buildSa11yUI(),this.settingPanelToggles(),this.globals(),this.utilities(),t=()=>{this.mainToggle(),this.skipToIssueTooltip(),this.detectPageChanges(),"undefined"!=typeof Sa11yCustomChecks&&(this.customChecks=new Sa11yCustomChecks),document.getElementById("sa11y-toggle").disabled=!1,"Closed"!==localStorage.getItem("sa11y-remember-panel")&&localStorage.getItem("sa11y-remember-panel")||(this.panelActive=!0,this.checkAll())},"complete"===document.readyState?t():window.addEventListener("load",t))},this.buildSa11yUI=()=>{const e=document.createElement("div");e.setAttribute("id","sa11y-container"),e.setAttribute("role","region"),e.setAttribute("lang",a.LANG_CODE),e.setAttribute("aria-label",a.CONTAINER_LABEL);let t="On"===localStorage.getItem("sa11y-remember-contrast"),n="On"===localStorage.getItem("sa11y-remember-labels"),r="On"===localStorage.getItem("sa11y-remember-links-advanced"),s="On"===localStorage.getItem("sa11y-remember-readability");e.innerHTML=`<button type="button" aria-expanded="false" id="sa11y-toggle" aria-describedby="sa11y-notification-badge" aria-label="${a.MAIN_TOGGLE_LABEL}" disabled>\n                    <svg role='img' focusable='false' width='35px' height='35px' aria-hidden='true' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='#ffffff' d='M256 48c114.953 0 208 93.029 208 208 0 114.953-93.029 208-208 208-114.953 0-208-93.029-208-208 0-114.953 93.029-208 208-208m0-40C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 56C149.961 64 64 149.961 64 256s85.961 192 192 192 192-85.961 192-192S362.039 64 256 64zm0 44c19.882 0 36 16.118 36 36s-16.118 36-36 36-36-16.118-36-36 16.118-36 36-36zm117.741 98.023c-28.712 6.779-55.511 12.748-82.14 15.807.851 101.023 12.306 123.052 25.037 155.621 3.617 9.26-.957 19.698-10.217 23.315-9.261 3.617-19.699-.957-23.316-10.217-8.705-22.308-17.086-40.636-22.261-78.549h-9.686c-5.167 37.851-13.534 56.208-22.262 78.549-3.615 9.255-14.05 13.836-23.315 10.217-9.26-3.617-13.834-14.056-10.217-23.315 12.713-32.541 24.185-54.541 25.037-155.621-26.629-3.058-53.428-9.027-82.141-15.807-8.6-2.031-13.926-10.648-11.895-19.249s10.647-13.926 19.249-11.895c96.686 22.829 124.283 22.783 220.775 0 8.599-2.03 17.218 3.294 19.249 11.895 2.029 8.601-3.297 17.219-11.897 19.249z'/></svg> \n                    <div id="sa11y-notification-badge">\n                        <span id="sa11y-notification-count"></span>\n                    </div>\n                </button><div id="sa11y-panel"><div id="sa11y-outline-panel" role="tabpanel" aria-labelledby="sa11y-outline-header">\n                <div id="sa11y-outline-header" class="sa11y-header-text">\n                    <h2 tabindex="-1">${a.PAGE_OUTLINE}</h2>\n                </div>\n                <div id="sa11y-outline-content">\n                    <ul id="sa11y-outline-list"></ul>\n                </div><div id="sa11y-readability-panel">\n                    <div id="sa11y-readability-content">\n                        <h2 class="sa11y-header-text-inline">${a.LANG_READABILITY}</h2>\n                        <p id="sa11y-readability-info"></p>\n                        <ul id="sa11y-readability-details"></ul>\n                    </div>\n                </div>\n            </div><div id="sa11y-settings-panel" role="tabpanel" aria-labelledby="sa11y-settings-header">\n                <div id="sa11y-settings-header" class="sa11y-header-text">\n                    <h2 tabindex="-1">${a.SETTINGS}</h2>\n                </div>\n                <div id="sa11y-settings-content">\n                    <ul id="sa11y-settings-options"> \n                        <li id="sa11y-contrast-li">\n                            <label id="sa11y-check-contrast" for="sa11y-contrast-toggle">\n\t\t\t\t\t\t\t\t${a.CONTRAST}\n\t\t\t\t\t\t\t</label>\n                            <button id="sa11y-contrast-toggle" \n                            aria-labelledby="sa11y-check-contrast" \n                            class="sa11y-settings-switch" \n                            aria-pressed="${t?"true":"false"}">${t?a.ON:a.OFF}</button>\n                        </li>\n\t\t\t\t\t\t<li id="sa11y-form-labels-li">\n                            <label id="sa11y-check-labels" for="sa11y-labels-toggle">\n\t\t\t\t\t\t\t\t${a.FORM_LABELS}\n\t\t\t\t\t\t\t</label>\n                            <button id="sa11y-labels-toggle" aria-labelledby="sa11y-check-labels" class="sa11y-settings-switch" \n                            aria-pressed="${n?"true":"false"}">${n?a.ON:a.OFF}</button>\n                        </li> \n                        <li id="sa11y-links-advanced-li">\n                            <label id="check-changerequest" for="sa11y-links-advanced-toggle">\n\t\t\t\t\t\t\t\t${a.LINKS_ADVANCED} <span class="sa11y-badge">AAA</span>\n\t\t\t\t\t\t\t</label>\n                            <button id="sa11y-links-advanced-toggle" aria-labelledby="check-changerequest" class="sa11y-settings-switch" \n                            aria-pressed="${r?"true":"false"}">${r?a.ON:a.OFF}</button>\n                        </li>\n                        <li id="sa11y-readability-li">\n                            <label id="check-readability" for="sa11y-readability-toggle">\n\t\t\t\t\t\t\t\t${a.LANG_READABILITY} <span class="sa11y-badge">AAA</span>\n\t\t\t\t\t\t\t</label>\n                            <button id="sa11y-readability-toggle" aria-labelledby="check-readability" class="sa11y-settings-switch" \n                            aria-pressed="${s?"true":"false"}">${s?a.ON:a.OFF}</button>\n                        </li>\n                        <li>\n                            <label id="sa11y-dark-mode" for="sa11y-theme-toggle">\n\t\t\t\t\t\t\t\t${a.DARK_MODE}\n\t\t\t\t\t\t\t</label>\n                            <button id="sa11y-theme-toggle" aria-labelledby="sa11y-dark-mode" class="sa11y-settings-switch"></button>\n                        </li>\n                    </ul>\n                </div>\n            </div><div id="sa11y-panel-alert">\n                <div class="sa11y-header-text">\n                    <button id="sa11y-close-alert" class="sa11y-close-btn" aria-label="${a.ALERT_CLOSE}" aria-describedby="sa11y-alert-heading sa11y-panel-alert-text"></button>\n                    <h2 id="sa11y-alert-heading">${a.ALERT_TEXT}</h2>\n                </div>\n                <p id="sa11y-panel-alert-text"></p>\n                <div id="sa11y-panel-alert-preview"></div>\n            </div><div id="sa11y-panel-content">\n                <button id="sa11y-cycle-toggle" type="button" aria-label="${a.SHORTCUT_SCREEN_READER}">\n                    <div class="sa11y-panel-icon"></div>\n                </button>\n                <div id="sa11y-panel-text">\n\t\t\t\t\t<h1 class="sa11y-header-text">${a.PANEL_HEADING}</h1>\n\t\t\t\t\t<p id="sa11y-status" aria-live="polite"></p>\n\t\t\t\t</div>\n            </div><div id="sa11y-panel-controls" role="tablist" aria-orientation="horizontal">\n                <button type="button" role="tab" aria-expanded="false" id="sa11y-outline-toggle" aria-controls="sa11y-outline-panel">\n                    ${a.SHOW_OUTLINE}\n                </button>\n                <button type="button" role="tab" aria-expanded="false" id="sa11y-settings-toggle" aria-controls="sa11y-settings-panel">\n                    ${a.SHOW_SETTINGS}\n                </button>\n                <div style="width:40px;"></div> \n            </div></div>`;document.getElementsByTagName("BODY")[0].prepend(e)},this.globals=()=>{e.readabilityRoot||(e.readabilityRoot=e.checkRoot);const t=["en","fr","es","de","nl","it"],a=document.querySelector("html").getAttribute("lang");if(a){const n=a.toLowerCase();t.some((e=>n.includes(e)))||(e.readabilityPlugin=!1)}else e.readabilityPlugin=!1;if(e.containerIgnore){let t=e.containerIgnore.split(",").map((e=>`${e} *, ${e}`));e.containerIgnore="[aria-hidden], #sa11y-container *, #wpadminbar *, "+t.join(", ")}else e.containerIgnore="[aria-hidden], #sa11y-container *, #wpadminbar *";if(this.containerIgnore=e.containerIgnore,this.contrastIgnore=this.containerIgnore+", .sa11y-heading-label, script",e.contrastIgnore&&(this.contrastIgnore=e.contrastIgnore+", "+this.contrastIgnore),this.readabilityIgnore=this.containerIgnore+', nav li, [role="navigation"] li',e.readabilityIgnore&&(this.readabilityIgnore=e.readabilityIgnore+", "+this.readabilityIgnore),this.headerIgnore=this.containerIgnore,e.headerIgnore&&(this.headerIgnore=e.headerIgnore+", "+this.headerIgnore),e.outlineIgnore&&(this.outlineIgnore=e.outlineIgnore+", #sa11y-container h2"),this.imageIgnore=this.containerIgnore+", [role='presentation'], [src^='https://trck.youvisit.com']",e.imageIgnore&&(this.imageIgnore=e.imageIgnore+", "+this.imageIgnore),this.linkIgnore=this.containerIgnore+', [aria-hidden="true"], .anchorjs-link',e.linkIgnore&&(this.linkIgnore=e.linkIgnore+", "+this.linkIgnore),e.linkIgnoreSpan){let t=e.linkIgnoreSpan.split(",").map((e=>`${e} *, ${e}`));e.linkIgnoreSpan="noscript"+t.join(", ")}else e.linkIgnoreSpan="noscript";if(e.videoContent){let t=e.videoContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));e.videoContent="video, "+t.join(", ")}else e.videoContent="video";if(e.audioContent){let t=e.audioContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));e.audioContent="audio, "+t.join(", ")}else e.audioContent="audio";if(e.dataVizContent){let t=e.dataVizContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));e.dataVizContent=t.join(", ")}else e.dataVizContent="datastudio.google.com, tableau";if(e.twitterContent){let t=e.twitterContent.split(/\s*[\s,]\s*/).map((e=>`[class*='${e}']`));e.twitterContent=t.join(", ")}else e.twitterContent="twitter-timeline";if(e.embeddedContent){let t=e.embeddedContent.split(/\s*[\s,]\s*/).map((e=>"twitter-timeline"===e?`[class*='${e}']`:`[src*='${e}']`));e.embeddedContent=t.join(", ")}},this.mainToggle=()=>{const e=document.getElementById("sa11y-toggle");e.addEventListener("click",(t=>{"Opened"===localStorage.getItem("sa11y-remember-panel")?(localStorage.setItem("sa11y-remember-panel","Closed"),e.classList.remove("sa11y-on"),e.setAttribute("aria-expanded","false"),this.resetAll(),this.updateBadge(),t.preventDefault()):(localStorage.setItem("sa11y-remember-panel","Opened"),e.classList.add("sa11y-on"),e.setAttribute("aria-expanded","true"),this.checkAll(),document.getElementById("sa11y-notification-badge").style.display="none",t.preventDefault())})),"Opened"===localStorage.getItem("sa11y-remember-panel")&&(e.classList.add("sa11y-on"),e.setAttribute("aria-expanded","true")),e.classList.contains("sa11y-on")&&(e.classList.toggle("loading-sa11y"),e.setAttribute("aria-expanded","true"),setTimeout(this.checkAll,400)),document.onkeydown=t=>{let a=!1;if(a="key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode,a&&document.getElementById("sa11y-panel").classList.contains("sa11y-active")&&(tippy.hideAll(),e.setAttribute("aria-expanded","false"),e.classList.remove("sa11y-on"),e.click(),this.resetAll()),t.altKey&&"KeyA"==t.code){const e=document.getElementById("sa11y-toggle");e.click(),e.focus(),t.preventDefault()}}},this.utilities=()=>{this.isElementHidden=e=>{if(e.getAttribute("hidden")||0===e.offsetWidth&&0===e.offsetHeight)return!0;return"none"===getComputedStyle(e).getPropertyValue("display")},this.escapeHTML=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML.replaceAll('"',"&quot;").replaceAll("'","&#039;").replaceAll("`","&#x60;")},this.sanitizeForHTML=function(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))},this.computeTextNodeWithImage=function(e){const t=Array.from(e.querySelectorAll("img"));let a="";if(0===t.length&&e.textContent.trim().length>1)a=e.textContent.trim();else if(t.length&&0===e.textContent.trim().length){let e=t[0].getAttribute("alt");e&&" "!==e&&""!==e?void 0!==e&&(a=e):a=" "}else t.length&&e.textContent.trim().length&&(t.forEach((e=>{e.insertAdjacentHTML("afterend"," <span class='sa11y-clone-image-text' aria-hidden='true'>"+t[0].getAttribute("alt")+"</span> ")})),a=e.textContent.trim());return a},this.debounce=(e,t)=>{let a=null;return(...n)=>{window.clearTimeout(a),a=window.setTimeout((()=>{e.apply(null,n)}),t)}},Sa11y.fnIgnore=(e,t)=>{const a=e.cloneNode(!0);return Array.from(t?a.querySelectorAll(t):a.children).forEach((e=>{e.parentElement.removeChild(e)})),a},this.computeAriaLabel=e=>{if(e.matches("[aria-label]"))return e.getAttribute("aria-label");if(e.matches("[aria-labelledby]")){let t=e.getAttribute("aria-labelledby").split(/\s+/);if(t.length>0){let e="";return t.forEach((t=>{let a=document.querySelector("#"+t);null===a?e+=" ":a.hasAttribute("aria-label")?e+=a.getAttribute("aria-label")+" ":e+=a.firstChild.nodeValue+" "})),e}return""}if(Array.from(e.children).filter((e=>e.matches("[aria-label]"))).length>0){let t=Array.from(e.childNodes),a="";return t.forEach((e=>{1===e.nodeType?null===e.ariaLabel?a+=e.innerText:a+=e.getAttribute("aria-label"):a+=e.nodeValue})),a}if(Array.from(e.children).filter((e=>e.matches("[aria-labelledby]"))).length>0){let t=Array.from(e.childNodes),a="";return t.forEach((e=>{if(3===e.nodeType)a+=e.nodeValue;else{let t=e.getAttribute("aria-labelledby").split(/\s+/);if(!(t.length>0))return"";{let e="";t.forEach((t=>{null===document.querySelector("#"+t)?e+=" ":e+=document.querySelector("#"+t).firstChild.nodeValue+" "})),a+=e}}})),a}return"noAria"}},this.settingPanelToggles=()=>{const e=document.getElementById("sa11y-contrast-toggle");e.onclick=async()=>{"On"===localStorage.getItem("sa11y-remember-contrast")?(localStorage.setItem("sa11y-remember-contrast","Off"),e.textContent=`${a.OFF}`,e.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(localStorage.setItem("sa11y-remember-contrast","On"),e.textContent=`${a.ON}`,e.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())};const t=document.getElementById("sa11y-labels-toggle");t.onclick=async()=>{"On"===localStorage.getItem("sa11y-remember-labels")?(localStorage.setItem("sa11y-remember-labels","Off"),t.textContent=`${a.OFF}`,t.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(localStorage.setItem("sa11y-remember-labels","On"),t.textContent=`${a.ON}`,t.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())};const n=document.getElementById("sa11y-links-advanced-toggle");n.onclick=async()=>{"On"===localStorage.getItem("sa11y-remember-links-advanced")?(localStorage.setItem("sa11y-remember-links-advanced","Off"),n.textContent=`${a.OFF}`,n.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(localStorage.setItem("sa11y-remember-links-advanced","On"),n.textContent=`${a.ON}`,n.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())};const r=document.getElementById("sa11y-readability-toggle");r.onclick=async()=>{"On"===localStorage.getItem("sa11y-remember-readability")?(localStorage.setItem("sa11y-remember-readability","Off"),r.textContent=`${a.OFF}`,r.setAttribute("aria-pressed","false"),document.getElementById("sa11y-readability-panel").classList.remove("sa11y-active"),this.resetAll(!1),await this.checkAll()):(localStorage.setItem("sa11y-remember-readability","On"),r.textContent=`${a.ON}`,r.setAttribute("aria-pressed","true"),document.getElementById("sa11y-readability-panel").classList.add("sa11y-active"),this.resetAll(!1),await this.checkAll())},"On"===localStorage.getItem("sa11y-remember-readability")&&document.getElementById("sa11y-readability-panel").classList.add("sa11y-active");let s=window.matchMedia("(prefers-color-scheme: dark)");const i=document.getElementById("sa11y-theme-toggle"),l=document.querySelector("html"),o=localStorage.getItem("sa11y-remember-theme");s.matches?(i.textContent=`${a.ON}`,i.setAttribute("aria-pressed","true")):(i.textContent=`${a.OFF}`,i.setAttribute("aria-pressed","false")),s.addEventListener("change",(function(e){e.matches?(l.setAttribute("data-sa11y-theme","dark"),i.textContent=`${a.ON}`,i.setAttribute("aria-pressed","true"),localStorage.setItem("sa11y-remember-theme","")):(l.setAttribute("data-sa11y-theme","light"),i.textContent=`${a.OFF}`,i.setAttribute("aria-pressed","false"),localStorage.setItem("sa11y-remember-theme",""))})),i.onclick=async()=>{const e=localStorage.getItem("sa11y-remember-theme");"dark"===e?(l.setAttribute("data-sa11y-theme","light"),localStorage.setItem("sa11y-remember-theme","light"),i.textContent=`${a.OFF}`,i.setAttribute("aria-pressed","false")):"light"===e?(l.setAttribute("data-sa11y-theme","dark"),localStorage.setItem("sa11y-remember-theme","dark"),i.textContent=`${a.ON}`,i.setAttribute("aria-pressed","true")):s.matches?(l.setAttribute("data-sa11y-theme","light"),localStorage.setItem("sa11y-remember-theme","light"),i.textContent=`${a.OFF}`,i.setAttribute("aria-pressed","false")):(l.setAttribute("data-sa11y-theme","dark"),localStorage.setItem("sa11y-remember-theme","dark"),i.textContent=`${a.ON}`,i.setAttribute("aria-pressed","true"))},"dark"===o?(l.setAttribute("data-sa11y-theme","dark"),localStorage.setItem("sa11y-remember-theme","dark"),i.textContent=`${a.ON}`,i.setAttribute("aria-pressed","true")):"light"===o&&(l.setAttribute("data-sa11y-theme","light"),localStorage.setItem("sa11y-remember-theme","light"),i.textContent=`${a.OFF}`,i.setAttribute("aria-pressed","false"))},this.skipToIssueTooltip=()=>{let e;e=-1!=navigator.userAgent.indexOf("Mac")?'<span class="sa11y-kbd">Option</span> + <span class="sa11y-kbd">S</span>':'<span class="sa11y-kbd">Alt</span> + <span class="sa11y-kbd">S</span>',tippy("#sa11y-cycle-toggle",{content:`<div style="text-align:center">${a.SHORTCUT_TOOLTIP} &raquo;<br>${e}</div>`,allowHTML:!0,delay:[900,0],trigger:"mouseenter focusin",arrow:!0,placement:"top",theme:"sa11y-theme",aria:{content:null,expanded:!1},appendTo:document.body})},this.detectPageChanges=()=>{if(!0===e.detectSPArouting){let e=window.location.href;const t=this.debounce((async()=>{e!==window.location.href&&("Closed"!==localStorage.getItem("sa11y-remember-panel")&&localStorage.getItem("sa11y-remember-panel")||(this.panelActive=!0,this.checkAll()),!0===this.panelActive&&(this.resetAll(!1),await this.checkAll()),e=window.location.href)}),250);window.addEventListener("mousemove",t),window.addEventListener("keydown",t)}},this.checkAll=async()=>{Sa11y.errorCount=0,Sa11y.warningCount=0;if(document.querySelector(e.checkRoot))Sa11y.root=document.querySelector(e.checkRoot);else{Sa11y.root=document.querySelector("body");const t=document.getElementById("sa11y-panel-alert"),n=document.getElementById("sa11y-panel-alert-text"),r=e.checkRoot;n.innerHTML=`${a.ERROR_MISSING_ROOT_TARGET(r)}`,t.classList.add("sa11y-active")}if(this.findElements(),this.checkHeaders(),this.checkLinkText(),this.checkAltText(),!0===e.contrastPlugin)"On"===localStorage.getItem("sa11y-remember-contrast")&&this.checkContrast();else{document.getElementById("sa11y-contrast-li").setAttribute("style","display: none !important;"),localStorage.setItem("sa11y-remember-contrast","Off")}if(!0===e.formLabelsPlugin)"On"===localStorage.getItem("sa11y-remember-labels")&&this.checkLabels();else{document.getElementById("sa11y-form-labels-li").setAttribute("style","display: none !important;"),localStorage.setItem("sa11y-remember-labels","Off")}if(!0===e.linksAdvancedPlugin)"On"===localStorage.getItem("sa11y-remember-links-advanced")&&this.checkLinksAdvanced();else{document.getElementById("sa11y-links-advanced-li").setAttribute("style","display: none !important;"),localStorage.setItem("sa11y-remember-links-advanced","Off")}if(!0===e.readabilityPlugin)"On"===localStorage.getItem("sa11y-remember-readability")&&this.checkReadability();else{const e=document.getElementById("sa11y-readability-li"),t=document.getElementById("sa11y-readability-panel");e.setAttribute("style","display: none !important;"),t.classList.remove("sa11y-active")}!0===e.embeddedContentAll&&this.checkEmbeddedContent(),this.checkQA(),!0===e.customChecks&&"undefined"!=typeof Sa11yCustomChecks&&this.customChecks.check(),this.panelActive?this.resetAll():this.updatePanel(),this.initializeTooltips(),this.detectOverflow(),this.nudge(),document.getElementsByClassName("sa11y-on").length||this.updateBadge()},this.resetAll=(e=!0)=>{this.panelActive=!1,this.clearEverything();document.querySelector("html").removeAttribute("data-sa11y-active");const t=document.getElementById("sa11y-outline-toggle"),a=t.cloneNode(!0);t.parentNode.replaceChild(a,t);const n=document.getElementById("sa11y-settings-toggle"),r=n.cloneNode(!0);n.parentNode.replaceChild(r,n);["sa11y-error-border","sa11y-error-text","sa11y-warning-border","sa11y-warning-text","sa11y-good-border","sa11y-good-text","sa11y-overflow","sa11y-fake-heading","sa11y-pulse-border","sa11y-fake-list"].forEach((e=>{document.querySelectorAll("."+e).forEach((t=>t.classList.remove(e)))}));document.querySelectorAll(".sa11y-warning-uppercase").forEach((e=>e.outerHTML=e.innerHTML)),document.querySelectorAll("\n                .sa11y-instance,\n                .sa11y-instance-inline,\n                .sa11y-heading-label,\n                #sa11y-outline-list li,\n                .sa11y-readability-period,\n                #sa11y-readability-info span,\n                #sa11y-readability-details li,\n                .sa11y-clone-image-text\n            ").forEach((e=>e.parentNode.removeChild(e))),document.querySelector("#sa11y-panel-alert").classList.remove("sa11y-active");let s=document.querySelector("#sa11y-panel-alert-text");for(;s.firstChild;)s.removeChild(s.firstChild);let i=document.querySelector("#sa11y-panel-alert-preview");for(;i.firstChild;)i.removeChild(i.firstChild);i.classList.remove("sa11y-panel-alert-preview");let l=document.querySelector("#sa11y-status");for(;l.firstChild;)l.removeChild(l.firstChild);e&&document.querySelector("#sa11y-panel").classList.remove("sa11y-active")},this.clearEverything=()=>{},this.initializeTooltips=()=>{tippy(".sa11y-btn",{interactive:!0,trigger:"mouseenter click focusin",arrow:!0,delay:[200,0],theme:"sa11y-theme",placement:"auto-start",allowHTML:!0,aria:{content:"describedby"},appendTo:document.body})},this.detectOverflow=()=>{document.querySelectorAll(".sa11y-btn").forEach((function(e){const t=((e,t,a)=>{for(;null!==e;){if(window.getComputedStyle(e).getPropertyValue(t)===a)return e;e=e.parentElement}return null})(e,"overflow","hidden");null!==t&&t.classList.add("sa11y-overflow")}))},this.nudge=()=>{document.querySelectorAll(".sa11y-instance, .sa11y-instance-inline").forEach((e=>{const t=e.nextElementSibling;null!==t&&(t.classList.contains("sa11y-instance")||t.classList.contains("sa11y-instance-inline"))&&t.querySelector("button").setAttribute("style","margin: -10px -20px !important;")}))},this.updateBadge=()=>{let e=Sa11y.errorCount+Sa11y.warningCount,t=Sa11y.warningCount;const n=document.getElementById("sa11y-notification-badge");0===e?n.style.display="none":Sa11y.warningCount>0&&0===Sa11y.errorCount?(n.style.display="flex",n.classList.add("sa11y-notification-badge-warning"),document.getElementById("sa11y-notification-count").innerHTML=`${a.PANEL_ICON_WARNINGS(t)}`):(n.style.display="flex",n.classList.remove("sa11y-notification-badge-warning"),document.getElementById("sa11y-notification-count").innerHTML=`${a.PANEL_ICON_TOTAL(e)}`)},this.updatePanel=()=>{this.panelActive=!0,this.buildPanel(),this.skipToIssue();const e=document.getElementById("sa11y-cycle-toggle");e.disabled=!1,e.setAttribute("style","cursor: pointer !important;");document.getElementById("sa11y-panel").classList.add("sa11y-active");document.querySelector("html").setAttribute("data-sa11y-active","true");const t=document.getElementById("sa11y-panel-content"),a=document.getElementById("sa11y-status"),n=document.querySelectorAll(".sa11y-btn"),r=sa11yLang;Sa11y.errorCount>0&&Sa11y.warningCount>0?(t.setAttribute("class","sa11y-errors"),a.innerHTML=`${r.PANEL_STATUS_BOTH(Sa11y.errorCount,Sa11y.warningCount)}`):Sa11y.errorCount>0?(t.setAttribute("class","sa11y-errors"),a.innerHTML=`${r.PANEL_STATUS_ERRORS(Sa11y.errorCount)}`):Sa11y.warningCount>0?(t.setAttribute("class","sa11y-warnings"),a.innerHTML=`${r.PANEL_STATUS_WARNINGS(Sa11y.warningCount)}`):(t.setAttribute("class","sa11y-good"),a.textContent=`${r.PANEL_STATUS_NONE}`,0===n.length&&(e.disabled=!0,e.setAttribute("style","cursor: default !important;")))},this.buildPanel=()=>{const e=document.getElementById("sa11y-outline-toggle"),t=document.getElementById("sa11y-outline-panel"),a=document.getElementById("sa11y-outline-list"),n=document.getElementById("sa11y-settings-toggle"),r=document.getElementById("sa11y-settings-panel"),s=document.getElementById("sa11y-settings-content"),i=document.querySelectorAll(".sa11y-heading-label"),l=sa11yLang;e.addEventListener("click",(()=>{"true"==e.getAttribute("aria-expanded")?(e.classList.remove("sa11y-outline-active"),t.classList.remove("sa11y-active"),e.textContent=`${l.SHOW_OUTLINE}`,e.setAttribute("aria-expanded","false"),localStorage.setItem("sa11y-remember-outline","Closed")):(e.classList.add("sa11y-outline-active"),t.classList.add("sa11y-active"),e.textContent=`${l.HIDE_OUTLINE}`,e.setAttribute("aria-expanded","true"),localStorage.setItem("sa11y-remember-outline","Opened")),document.querySelector("#sa11y-outline-header > h2").focus(),i.forEach((e=>e.classList.toggle("sa11y-label-visible"))),r.classList.remove("sa11y-active"),n.classList.remove("sa11y-settings-active"),n.setAttribute("aria-expanded","false"),n.textContent=`${l.SHOW_SETTINGS}`,a.clientHeight>250&&a.setAttribute("tabindex","0")})),"Opened"===localStorage.getItem("sa11y-remember-outline")&&(e.classList.add("sa11y-outline-active"),t.classList.add("sa11y-active"),e.textContent=`${l.HIDE_OUTLINE}`,e.setAttribute("aria-expanded","true"),i.forEach((e=>e.classList.toggle("sa11y-label-visible"))),a.clientHeight>250&&a.setAttribute("tabindex","0")),n.addEventListener("click",(a=>{"true"===n.getAttribute("aria-expanded")?(n.classList.remove("sa11y-settings-active"),r.classList.remove("sa11y-active"),n.textContent=`${l.SHOW_SETTINGS}`,n.setAttribute("aria-expanded","false")):(n.classList.add("sa11y-settings-active"),r.classList.add("sa11y-active"),n.textContent=`${l.HIDE_SETTINGS}`,n.setAttribute("aria-expanded","true")),document.querySelector("#sa11y-settings-header > h2").focus(),t.classList.remove("sa11y-active"),e.classList.remove("sa11y-outline-active"),e.setAttribute("aria-expanded","false"),e.textContent=`${l.SHOW_OUTLINE}`,i.forEach((e=>e.classList.remove("sa11y-label-visible"))),localStorage.setItem("sa11y-remember-outline","Closed"),s.clientHeight>350&&s.setAttribute("tabindex","0")})),document.getElementById("sa11y-panel-controls").addEventListener("keydown",(function(e){const t=document.querySelectorAll("#sa11y-outline-toggle[role=tab], #sa11y-settings-toggle[role=tab]");if("ArrowRight"===e.key)for(let a=0;a<t.length;a++)if("true"===t[a].getAttribute("aria-expanded")||"false"===t[a].getAttribute("aria-expanded")){t[a+1].focus(),e.preventDefault();break}if("ArrowDown"===e.key)for(let a=0;a<t.length;a++)if("true"===t[a].getAttribute("aria-expanded")||"false"===t[a].getAttribute("aria-expanded")){t[a+1].focus(),e.preventDefault();break}if("ArrowLeft"===e.key)for(let a=t.length-1;a>0;a--)if("true"===t[a].getAttribute("aria-expanded")||"false"===t[a].getAttribute("aria-expanded")){t[a-1].focus(),e.preventDefault();break}if("ArrowUp"===e.key)for(let a=t.length-1;a>0;a--)if("true"===t[a].getAttribute("aria-expanded")||"false"===t[a].getAttribute("aria-expanded")){t[a-1].focus(),e.preventDefault();break}}));const o=document.getElementById("sa11y-close-alert"),d=document.getElementById("sa11y-panel-alert"),c=document.getElementById("sa11y-panel-alert-text"),y=document.getElementById("sa11y-cycle-toggle");o.addEventListener("click",(()=>{for(d.classList.remove("sa11y-active");c.firstChild;)c.removeChild(c.firstChild);document.querySelectorAll(".sa11y-pulse-border").forEach((e=>e.classList.remove("sa11y-pulse-border"))),y.focus()}))},this.skipToIssue=()=>{let e=!1,t="smooth";if(!("scrollBehavior"in document.documentElement.style)){let e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/smoothscroll-polyfill@0.4.4/dist/smoothscroll.min.js",document.head.appendChild(e)}document.documentMode||("function"==typeof window.matchMedia&&(e=window.matchMedia("(prefers-reduced-motion: reduce)")),e&&!e.matches||(t="auto"));let n=0;const r=document.querySelectorAll(".sa11y-btn").length;document.addEventListener("keyup",(e=>{r&&(e.altKey&&"Period"==e.code||"KeyS"==e.code)&&(s(),e.preventDefault())}));document.getElementById("sa11y-cycle-toggle").addEventListener("click",(e=>{s(),e.preventDefault()}));const s=function(){const e=document.querySelectorAll(".sa11y-btn"),s=document.getElementById("sa11y-panel-alert"),i=document.getElementById("sa11y-panel-alert-text"),l=document.getElementById("sa11y-panel-alert-preview"),o=document.getElementById("sa11y-close-alert"),d=(e,t,a)=>{for(;null!==e;){if(window.getComputedStyle(e).getPropertyValue(t)===a)return e;e=e.parentElement}return null},c=e=>{let t=e.getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+a}};let y,u=e[n].offsetTop;if(0===u){let t=d(e[n],"display","none");y=t.previousElementSibling?c(t.previousElementSibling).top-150:c(t.parentNode).top-150}else y=c(e[n]).top-150;u>=0?(setTimeout((function(){window.scrollTo({top:y,behavior:t})}),1),e.forEach((function(e){const t=d(e,"display","none");if(null!==t){let e=t.previousElementSibling;e?e.classList.add("sa11y-pulse-border"):t.parentNode.classList.add("sa11y-pulse-border")}})),e[n].focus()):e[n].focus(),0===u?(s.classList.add("sa11y-active"),i.textContent=`${a.NOT_VISIBLE_ALERT}`,l.classList.add("sa11y-panel-alert-preview"),l.innerHTML=e[n].getAttribute("data-tippy-content"),o.focus()):u<1&&(s.classList.remove("sa11y-active"),document.querySelectorAll(".sa11y-pulse-border").forEach((e=>e.classList.remove("sa11y-pulse-border")))),n+=1,n>=r&&(n=0)}},this.findElements=()=>{let t=document.querySelector(e.checkRoot),a=document.querySelector(e.readabilityRoot);t=t?document.querySelector(e.checkRoot):document.querySelector("body"),a=a?document.querySelector(e.readabilityRoot):document.querySelector("body");const n=Array.from(document.querySelectorAll(this.containerIgnore)),r=Array.from(document.querySelectorAll(this.readabilityIgnore)),s=Array.from(t.querySelectorAll("*")),i=Array.from(t.querySelectorAll(this.contrastIgnore));this.$contrast=s.filter((e=>!i.includes(e)));let l=Array.from(a.querySelectorAll("p, li"));l&&(l=Array.from(a.querySelectorAll("p, li"))),this.$readability=l.filter((e=>!r.includes(e)));const o=Array.from(t.querySelectorAll("h1, h2, h3, h4, h5, h6, [role='heading'][aria-level]")),d=Array.from(t.querySelectorAll(this.headerIgnore));this.$h=o.filter((e=>!d.includes(e)));const c=Array.from(document.querySelectorAll("h1, [role='heading'][aria-level='1']"));this.$h1=c.filter((e=>!d.includes(e)));const y=Array.from(t.querySelectorAll("a[href]")),u=Array.from(t.querySelectorAll(this.linkIgnore));this.$links=y.filter((e=>!u.includes(e)));const g=Array.from(t.querySelectorAll("input, select, textarea"));this.$inputs=g.filter((e=>!n.includes(e)&&!this.isElementHidden(e)));const h=Array.from(t.querySelectorAll("img")),b=Array.from(t.querySelectorAll(this.imageIgnore));this.$img=h.filter((e=>!b.includes(e)));const m=Array.from(t.querySelectorAll("iframe, audio, video"));this.$iframes=m.filter((e=>!n.includes(e))),this.$videos=this.$iframes.filter((t=>t.matches(e.videoContent))),this.$audio=this.$iframes.filter((t=>t.matches(e.audioContent))),this.$dataviz=this.$iframes.filter((t=>t.matches(e.dataVizContent))),this.$twitter=this.$iframes.filter((t=>t.matches(e.twitterContent))),this.$embeddedcontent=this.$iframes.filter((t=>!t.matches(e.embeddedContent)));const A=Array.from(t.querySelectorAll("strong, em"));this.$strongitalics=A.filter((e=>!n.includes(e)));const f=e.linksToFlag?Array.from(t.querySelectorAll(e.linksToFlag)):[];this.$badDevLinks=f.filter((e=>!n.includes(e)));const S=Array.from(t.querySelectorAll("a[href$='.pdf']"));this.$checkPDF=S.filter((e=>!n.includes(e)));const p=Array.from(t.querySelectorAll("table:not([role='presentation'])"));this.$tables=p.filter((e=>!n.includes(e))),this.lang=document.querySelector("html").getAttribute("lang");const L=Array.from(t.querySelectorAll("blockquote"));this.$blockquotes=L.filter((e=>!n.includes(e)));const E=Array.from(t.querySelectorAll("p"));this.$p=E.filter((e=>!n.includes(e)));const I=Array.from(t.querySelectorAll("h1, h2, h3, h4, h5, h6, p, li:not([class^='sa11y']), blockquote"));this.$allcaps=I.filter((e=>!n.includes(e)))},Sa11y.annotate=(e,t,n=!1)=>{const r=new Set([a.ERROR,a.WARNING,a.GOOD]),s={[a.ERROR]:"error",[a.WARNING]:"warning",[a.GOOD]:"good"};if(!r.has(e))throw Error(`Invalid type [${e}] for annotation`);return t&&"[object Function]"==={}.toString.call(t)&&(t=t()),t=this.escapeHTML(t),`\n\t\t\t\t<div class=${n?"sa11y-instance-inline":"sa11y-instance"}>\n\t\t\t\t\t<button\n\t\t\t\t\ttype="button"   \n\t\t\t\t\taria-label="${[e]}" \n\t\t\t\t\tclass="sa11y-btn \n\t\t\t\t\tsa11y-${s[e]}-btn${n?"-text":""}" \n\t\t\t\t\tdata-tippy-content="<div lang='${a.LANG_CODE}'>\n\t\t\t\t\t\t<div class='sa11y-header-text'>${[e]}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${t} \n\t\t\t\t\t</div>\n\t\t\t\t"> \n\t\t\t\t</button>\n\t\t\t\t</div>`},Sa11y.annotateBanner=(e,t)=>{const n=new Set([a.ERROR,a.WARNING,a.GOOD]),r={[a.ERROR]:"error",[a.WARNING]:"warning",[a.GOOD]:"good"};if(!n.has(e))throw Error(`Invalid type [${e}] for annotation`);return t&&"[object Function]"==={}.toString.call(t)&&(t=t()),`<div class="sa11y-instance sa11y-${r[e]}-message-container">\n\t\t\t\t<div role="region" aria-label="${[e]}" class="sa11y-${r[e]}-message" lang="${a.LANG_CODE}">\n\t\t\t\t\t${t}\n\t\t\t\t</div>\n\t\t\t</div>`},this.checkHeaders=()=>{let t;if(this.$h.forEach(((n,r)=>{let s,i=this.computeTextNodeWithImage(n),l=this.sanitizeForHTML(i);s=n.getAttribute("aria-level")?+n.getAttribute("aria-level"):+n.tagName.slice(1);let o=n.textContent.trim().length,d=null,c=null;if(s-t>1&&0!==r)!0===e.nonConsecutiveHeadingIsError?d=a.HEADING_NON_CONSECUTIVE_LEVEL(t,s):c=a.HEADING_NON_CONSECUTIVE_LEVEL(t,s);else if(0==n.textContent.trim().length)if(n.querySelectorAll("img").length){const e=n.querySelector("img").getAttribute("alt");null!==e&&" "!==e&&""!==e||(d=a.HEADING_EMPTY_WITH_IMAGE(s),n.classList.add("sa11y-error-text"))}else d=a.HEADING_EMPTY(s),n.classList.add("sa11y-error-text");else 0===r&&1!==s&&2!==s?d=a.HEADING_FIRST:n.textContent.trim().length>170&&!0===e.flagLongHeadings&&(c=a.HEADING_LONG(o));t=s;let y=`<li class='sa11y-outline-${s}'>\n                    <span class='sa11y-badge'>${s}</span> \n                    <span class='sa11y-outline-list-item'>${l}</span>\n                </li>`,u=`<li class='sa11y-outline-${s}'>\n                    <span class='sa11y-badge sa11y-error-badge'>\n                    <span aria-hidden='true'>&#10007;</span>\n                    <span class='sa11y-visually-hidden'>${a.ERROR}</span> ${s}</span> \n                    <span class='sa11y-outline-list-item sa11y-red-text sa11y-bold'>${l}</span>\n                </li>`,g=`<li class='sa11y-outline-${s}'>\n                    <span class='sa11y-badge sa11y-warning-badge'>\n                    <span aria-hidden='true'>&#x3f;</span>\n                    <span class='sa11y-visually-hidden'>${a.WARNING}</span> ${s}</span> \n                    <span class='sa11y-outline-list-item sa11y-yellow-text sa11y-bold'>${l}</span>\n                </li>`,h=[];e.outlineIgnore&&(h=Array.from(document.querySelectorAll(this.outlineIgnore))),h.includes(n)||(n.insertAdjacentHTML("beforeend",`<span class='sa11y-heading-label'>H${s}</span>`),null!==d&&null!==n.closest("a")?(Sa11y.errorCount++,n.classList.add("sa11y-error-border"),n.closest("a").insertAdjacentHTML("afterend",Sa11y.annotate(a.ERROR,d,!0)),document.querySelector("#sa11y-outline-list").insertAdjacentHTML("beforeend",u)):null!==d?(Sa11y.errorCount++,n.classList.add("sa11y-error-border"),n.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,d)),document.querySelector("#sa11y-outline-list").insertAdjacentHTML("beforeend",u)):null!==c&&null!==n.closest("a")?(Sa11y.warningCount++,n.closest("a").insertAdjacentHTML("afterend",Sa11y.annotate(a.WARNING,c)),document.querySelector("#sa11y-outline-list").insertAdjacentHTML("beforeend",g)):null!==c?(Sa11y.warningCount++,n.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,c)),document.querySelector("#sa11y-outline-list").insertAdjacentHTML("beforeend",g)):null!==d&&null!==c||document.querySelector("#sa11y-outline-list").insertAdjacentHTML("beforeend",y))})),0===this.$h1.length){Sa11y.errorCount++;const e=`<div class='sa11y-instance sa11y-missing-h1'>\n                    <span class='sa11y-badge sa11y-error-badge'><span aria-hidden='true'>&#10007;</span><span class='sa11y-visually-hidden'>${a.ERROR}</span></span> \n                    <span class='sa11y-red-text sa11y-bold'>${a.PANEL_HEADING_MISSING_ONE}</span>\n                </div>`;document.getElementById("sa11y-outline-header").insertAdjacentHTML("afterend",e),document.getElementById("sa11y-container").insertAdjacentHTML("afterend",Sa11y.annotateBanner(a.ERROR,a.HEADING_MISSING_ONE))}},this.checkLinkText=()=>{this.$links.forEach((t=>{let n=this.computeAriaLabel(t),r=t.getAttribute("aria-labelledby"),s=t.getAttribute("aria-label"),i=null,l=null,o=t.getAttribute("title");if(t.children.length){let e=t.children[0];i=e.getAttribute("aria-labelledby"),l=e.getAttribute("aria-label")}if("noAria"===n){n=t.textContent.trim();const e=t.querySelector("img");if(e){let t=this.computeAriaLabel(e);n+="noAria"!==t?t:e&&e.getAttribute("alt")||""}}let d=n.replace(/\s+/g," ").trim(),c=function(e){let t=[null,null,null];return a.PARTIAL_ALT_STOPWORDS.forEach((a=>{if(e.length===a.length&&e.toLowerCase().indexOf(a)>=0)return t[0]=a,!1})),a.WARNING_ALT_STOPWORDS.forEach((a=>{if(e.toLowerCase().indexOf(a)>=0)return t[1]=a,!1})),["http",".asp",".htm",".php",".edu/",".com/",".net/",".org/",".us/",".ca/",".de/",".icu/",".uk/",".ru/",".info/",".top/",".xyz/",".tk/",".cn/",".ga/",".cf/",".nl/",".io/",".fr/",".pe/",".nz/",".pt/",".es/",".pl/",".ua/"].forEach((a=>{if(e.toLowerCase().indexOf(a)>=0)return t[2]=a,!1})),t}(Sa11y.fnIgnore(t,e.linkIgnoreSpan).textContent.trim());t.querySelectorAll("img").length||(t.getAttribute("href")&&!d?t&&o||(t.children.length?(Sa11y.errorCount++,t.classList.add("sa11y-error-border"),t.insertAdjacentHTML("afterend",Sa11y.annotate(a.ERROR,a.LINK_EMPTY_LINK_NO_LABEL,!0))):(Sa11y.errorCount++,t.classList.add("sa11y-error-border"),t.insertAdjacentHTML("afterend",Sa11y.annotate(a.ERROR,a.LINK_EMPTY,!0)))):null!=c[0]?r||s||i||l?!0===e.showGoodLinkButton&&t.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.GOOD,a.LINK_LABEL(n),!0)):"true"===t.getAttribute("aria-hidden")&&"-1"===t.getAttribute("tabindex")||(Sa11y.errorCount++,t.classList.add("sa11y-error-text"),t.insertAdjacentHTML("afterend",Sa11y.annotate(a.ERROR,a.LINK_STOPWORD(c[0]),!0))):null!=c[1]?(Sa11y.warningCount++,t.classList.add("sa11y-warning-text"),t.insertAdjacentHTML("afterend",Sa11y.annotate(a.WARNING,a.LINK_BEST_PRACTICES(c[1]),!0))):null!=c[2]?n.length>40&&(Sa11y.warningCount++,t.classList.add("sa11y-warning-text"),t.insertAdjacentHTML("afterend",Sa11y.annotate(a.WARNING,a.LINK_URL,!0))):(r||s||i||l)&&!0===e.showGoodLinkButton&&t.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.GOOD,a.LINK_LABEL(n),!0)))}))},this.checkLinksAdvanced=()=>{let e={};this.$links.forEach((t=>{let n=this.computeAriaLabel(t);const r=t.querySelector("img");if("noAria"===n&&(n=t.textContent.trim(),r)){let e=this.computeAriaLabel(r);n+="noAria"!==e?e:r&&r.getAttribute("alt")||""}let s=n.replace(/'|"|-|\.|\s+/g,"").trim().toLowerCase(),i=t.getAttribute("href");0!==n.length&&(e[s]&&0!==s.length?e[i]||(Sa11y.warningCount++,t.classList.add("sa11y-warning-text"),t.insertAdjacentHTML("afterend",Sa11y.annotate(a.WARNING,a.LINK_IDENTICAL_NAME(n),!0))):(e[s]=!0,e[i]=!0));const l=a.NEW_WINDOW_PHRASES.some((function(e){return n.toLowerCase().indexOf(e)>=0})),o=a.FILE_TYPE_PHRASES.some((function(e){return n.toLowerCase().indexOf(e)>=0})),d=t.matches("\n\t\t\t\t\ta[href$='.pdf'],\n\t\t\t\t\ta[href$='.doc'],\n\t\t\t\t\ta[href$='.docx'],\n\t\t\t\t\ta[href$='.zip'],\n\t\t\t\t\ta[href$='.mp3'],\n\t\t\t\t\ta[href$='.txt'],\n\t\t\t\t\ta[href$='.exe'],\n\t\t\t\t\ta[href$='.dmg'],\n\t\t\t\t\ta[href$='.rtf'],\n\t\t\t\t\ta[href$='.pptx'],\n\t\t\t\t\ta[href$='.ppt'],\n\t\t\t\t\ta[href$='.xls'],\n\t\t\t\t\ta[href$='.xlsx'],\n\t\t\t\t\ta[href$='.csv'],\n\t\t\t\t\ta[href$='.mp4'],\n\t\t\t\t\ta[href$='.mov'],\n\t\t\t\t\ta[href$='.avi']\n\t\t\t\t");"_blank"!==t.getAttribute("target")||d||l||(Sa11y.warningCount++,t.classList.add("sa11y-warning-text"),t.insertAdjacentHTML("afterend",Sa11y.annotate(a.WARNING,a.NEW_TAB_WARNING,!0))),d&&!o&&(Sa11y.warningCount++,t.classList.add("sa11y-warning-text"),t.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.FILE_TYPE_WARNING,!0)))}))},this.checkAltText=()=>{this.containsAltTextStopWords=function(e){let t=[null,null,null];return[".png",".jpg",".jpeg",".webp",".gif",".tiff",".svg"].forEach((a=>{e.toLowerCase().indexOf(a)>=0&&(t[0]=a)})),a.SUSPICIOUS_ALT_STOPWORDS.forEach((a=>{e.toLowerCase().indexOf(a)>=0&&(t[1]=a)})),a.PLACEHOLDER_ALT_STOPWORDS.forEach((a=>{e.length===a.length&&e.toLowerCase().indexOf(a)>=0&&(t[2]=a)})),t},this.$img.forEach((e=>{let t=e.getAttribute("alt");if(null===t)e.closest("a[href]")?Sa11y.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length>=1?(e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.MISSING_ALT_LINK_BUT_HAS_TEXT_MESSAGE,!1,!0))):0===Sa11y.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length&&(e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.MISSING_ALT_LINK_MESSAGE,!1,!0))):(e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.MISSING_ALT_MESSAGE,!1,!0)));else{let n=this.sanitizeForHTML(t),r=this.containsAltTextStopWords(n),s=t.length;if(null!==r[0]&&e.closest("a[href]"))Sa11y.errorCount++,e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.LINK_IMAGE_BAD_ALT_MESSAGE(n,r[0]),!1,!0));else if(null!==r[2]&&e.closest("a[href]"))Sa11y.errorCount++,e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.LINK_IMAGE_PLACEHOLDER_ALT_MESSAGE(n),!1,!0));else if(null!==r[1]&&e.closest("a[href]"))Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.LINK_IMAGE_SUS_ALT_MESSAGE(n,r[1]),!1,!0));else if(null!==r[0])Sa11y.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.LINK_ALT_HAS_BAD_WORD_MESSAGE(n,r[0]),!1,!0));else if(null!==r[2])Sa11y.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.ALT_PLACEHOLDER_MESSAGE(n),!1,!0));else if(null!==r[1])Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.ALT_HAS_SUS_WORD(n,r[1]),!1,!0));else if(""!==t&&" "!==t||!e.closest("a[href]")){if(t.length>250&&e.closest("a[href]"))Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.LINK_IMAGE_LONG_ALT(n,s),!1,!0));else if(""!=t&&e.closest("a[href]")&&0===Sa11y.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length)Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.LINK_IMAGE_ALT_WARNING(n),!1,!0));else if(""!==t&&e.closest("a[href]")&&Sa11y.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length>=1)Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.LINK_IMAGE_ALT_AND_TEXT_WARNING(n),!1,!0));else if(""===t||" "===t)if(e.closest("figure")){const t=e.closest("figure").querySelector("figcaption");null!==t&&t.textContent.trim().length>=1&&(Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.IMAGE_FIGURE_DECORATIVE,!1,!0)))}else Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.IMAGE_DECORATIVE,!1,!0));else if(t.length>250)Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.IMAGE_ALT_TOO_LONG(n,s),!1,!0));else if(""!==t)if(e.closest("figure")){const t=e.closest("figure").querySelector("figcaption");t&&t.textContent.trim().toLowerCase()===n.trim().toLowerCase()?(Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.IMAGE_FIGURE_DUPLICATE_ALT(n),!1,!0))):e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.GOOD,a.IMAGE_PASS(n),!1,!0))}else e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.GOOD,a.IMAGE_PASS(n),!1,!0))}else"-1"==e.closest("a[href]").getAttribute("tabindex")&&"true"==e.closest("a[href]").getAttribute("aria-hidden")||("true"===e.closest("a[href]").getAttribute("aria-hidden")?(Sa11y.errorCount++,e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.LINK_IMAGE_ARIA_HIDDEN,!1,!0))):0===Sa11y.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length?(Sa11y.errorCount++,e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.LINK_IMAGE_NO_ALT_TEXT,!1,!0))):e.closest("a[href]").insertAdjacentHTML("beforebegin",Sa11y.annotate(a.GOOD,a.LINK_IMAGE_HAS_TEXT,!1,!0)))}}))},this.checkLabels=()=>{this.$inputs.forEach((e=>{let t=this.computeAriaLabel(e);const n=e.getAttribute("type"),r=e.getAttribute("tabindex");if("submit"===n||"button"===n||"hidden"===n||"-1"===r);else if("image"===n){let t=e.getAttribute("alt");t&&" "!==t||e.getAttribute("aria-label")||(Sa11y.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("afterend",Sa11y.annotate(a.ERROR,a.LABELS_MISSING_IMAGE_INPUT_MESSAGE,!0)))}else if("reset"===n)Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("afterend",Sa11y.annotate(a.WARNING,a.LABELS_INPUT_RESET_MESSAGE,!0));else if(e.getAttribute("aria-label")||e.getAttribute("aria-labelledby")||e.getAttribute("title"))if(e.getAttribute("title")){let t=e.getAttribute("title");Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("afterend",Sa11y.annotate(a.WARNING,a.LABELS_ARIA_LABEL_INPUT_MESSAGE(t),!0))}else Sa11y.warningCount++,e.classList.add("jooa11y-warning-border"),e.insertAdjacentHTML("afterend",Sa11y.annotate(a.WARNING,a.LABELS_ARIA_LABEL_INPUT_MESSAGE(t),!0));else if(e.closest("label")&&e.closest("label").textContent.trim());else if(e.getAttribute("id")){const t=Sa11y.root.querySelectorAll("label");let n=!1;if(t.forEach((t=>{n||t.getAttribute("for")===e.getAttribute("id")&&(n=!0)})),!n){Sa11y.errorCount++,e.classList.add("sa11y-error-border");let t=e.getAttribute("id");e.insertAdjacentHTML("afterend",Sa11y.annotate(a.ERROR,a.LABELS_NO_FOR_ATTRIBUTE_MESSAGE(t),!0))}}else Sa11y.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("afterend",Sa11y.annotate(a.ERROR,a.LABELS_MISSING_LABEL_MESSAGE,!0))}))},this.checkEmbeddedContent=()=>{!0===e.embeddedContentAudio&&this.$audio.forEach((e=>{Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.EMBED_AUDIO))})),!0===e.embeddedContentVideo&&this.$videos.forEach((e=>{let t=e.getElementsByTagName("TRACK");"VIDEO"===e.tagName&&t.length||(Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.EMBED_VIDEO)))})),!0===e.embeddedContentDataViz&&this.$dataviz.forEach((e=>{Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.EMBED_DATA_VIZ))})),!0===e.embeddedContentTwitter&&this.$twitter.forEach((e=>{e.contentWindow.document.body.querySelectorAll(".timeline-TweetList-tweet").length>3&&(Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.EMBED_TWITTER)))})),!0===e.embeddedContentTitles&&this.$iframes.forEach((e=>{"VIDEO"===e.tagName||"AUDIO"===e.tagName||"true"===e.getAttribute("aria-hidden")||null!==e.getAttribute("hidden")||"none"===e.style.display||"presentation"===e.getAttribute("role")||null!==e.getAttribute("title")&&""!==e.getAttribute("title")||null!==e.getAttribute("aria-label")&&""!==e.getAttribute("aria-label")||null===e.getAttribute("aria-labelledby")&&(e.classList.contains("sa11y-warning-border")&&e.classList.remove("sa11y-warning-border"),Sa11y.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.EMBED_MISSING_TITLE)))})),!0===e.embeddedContentGeneral&&this.$embeddedcontent.forEach((e=>{"VIDEO"===e.tagName||"AUDIO"===e.tagName||"true"===e.getAttribute("aria-hidden")||null!==e.getAttribute("hidden")||"none"===e.style.display||"presentation"===e.getAttribute("role")||"-1"===e.getAttribute("tabindex")||(Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.EMBED_GENERAL_WARNING)))}))},this.checkQA=()=>{if(!0===e.badLinksQA&&this.$badDevLinks.forEach((e=>{Sa11y.errorCount++,e.classList.add("sa11y-error-text"),e.insertAdjacentHTML("afterend",Sa11y.annotate(a.ERROR,a.QA_BAD_LINK(e),!0))})),!0===e.strongItalicsQA&&this.$strongitalics.forEach((e=>{e.textContent.trim().length>400&&(Sa11y.warningCount++,e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.QA_BAD_ITALICS)))})),!0===e.pdfQA&&this.$checkPDF.forEach(((e,t)=>{let n=this.$checkPDF.length;n>0&&(Sa11y.warningCount++,e.classList.add("sa11y-warning-text")),e&&0==t&&(e.insertAdjacentHTML("afterend",Sa11y.annotate(a.WARNING,a.QA_PDF(n),!0)),e.querySelector("img")&&e.classList.remove("sa11y-warning-text"))})),!0===e.langQA&&(!this.lang||this.lang.length<2)){Sa11y.errorCount++;document.getElementById("sa11y-container").insertAdjacentHTML("afterend",Sa11y.annotateBanner(a.ERROR,a.QA_PAGE_LANGUAGE))}if(!0===e.blockquotesQA&&this.$blockquotes.forEach((e=>{let t=e.textContent;t.trim().length<25&&(Sa11y.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.QA_BLOCKQUOTE_MESSAGE(t))))})),!0===e.tablesQA&&this.$tables.forEach((e=>{let t=e.querySelectorAll("th"),n=e.querySelectorAll("h1, h2, h3, h4, h5, h6");0==t.length&&(Sa11y.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.TABLES_MISSING_HEADINGS))),n.length>0&&(Sa11y.errorCount++,n.forEach((e=>{e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.TABLES_SEMANTIC_HEADING))}))),t.forEach((e=>{0==e.textContent.trim().length&&(Sa11y.errorCount++,e.classList.add("sa11y-error-border"),e.innerHTML=Sa11y.annotate(a.ERROR,a.TABLES_EMPTY_HEADING))}))})),!0===e.fakeHeadingsQA&&(this.$p.forEach((e=>{let t=e.innerHTML.indexOf("</strong><br>"),n=e.innerHTML.indexOf("<br></strong>");if(e&&e.textContent.trim().length>=300){let r=e.firstChild;if("STRONG"===r.tagName&&(-1!==n||-1!==t)){let t=r.textContent;!/[*]$/.test(t)&&!e.closest("table")&&t.length<=120&&(e.classList.add("sa11y-fake-heading","sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.QA_FAKE_HEADING(t))))}}if(/^<(strong)>.+<\/\1>$/.test(e.innerHTML.trim())){const t=e.previousElementSibling;let n="",r=e.textContent;if(null!==t&&(n=t.tagName),!/[*]$/.test(r)&&!e.closest("table")&&r.length<=120&&"H"!==n.charAt(0)){let t=e.textContent;e.classList.add("sa11y-fake-heading","sa11y-warning-border"),e.insertAdjacentHTML("afterend",Sa11y.annotate(a.WARNING,a.QA_FAKE_HEADING(t),!0))}}})),document.querySelectorAll(".sa11y-fake-heading").length>0&&Sa11y.warningCount++),!0===e.fakeListQA&&this.$p.forEach((e=>{let t="",n={b:"a",B:"A",2:"1"},r=function(e){return e.replace(/^b|^B|^2/,(function(e){return n[e]}))},s=!1,i=e.textContent.substring(0,2);if(i.trim().length>0&&i!==t&&i.match(/a\.|a\)|A\.|A\)|1\.|1\)|\*\s|-\s|--|•\s|→\s|✓\s|✔\s|✗\s|✖\s|✘\s|❯\s|›\s|»\s/)){let n=e.innerHTML.indexOf("<br>");if(-1!==n){i===r(e.innerHTML.substring(n+4).trim().substring(0,2))&&(s=!0)}let l=function(e,t){let a=e.nextElementSibling;if(!t)return a;for(;a;){if(a.matches(t))return a;a=a.nextElementSibling}};if(!s){if(l(e,"p")){i===r(e.nextElementSibling.textContent.substring(0,2))&&(s=!0)}}s?(Sa11y.warningCount++,e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.QA_SHOULD_BE_LIST(i)),!1,!0),e.classList.add("sa11y-fake-list"),t=i):t=""}else t=""})),!0===e.allCapsQA){this.$allcaps.forEach((e=>{let t=e.innerHTML;e.innerHTML=t.replace(/(?!<a[^>]*?>)(\b[A-Z][',!:A-Z\s]{15,}|\b[A-Z]{15,}\b)(?![^<]*?<\/a>)/g,"<span class='sa11y-warning-uppercase'>$1</span>")}));const e=document.querySelectorAll(".sa11y-warning-uppercase");e.forEach((e=>{e.insertAdjacentHTML("afterend",Sa11y.annotate(a.WARNING,a.QA_UPPERCASE_WARNING,!0))})),e.length>0&&Sa11y.warningCount++}if(!0===e.duplicateIdQA){const e=Sa11y.root.querySelectorAll("[id]");let t={},n=!1;e.forEach((e=>{let r=e.id;r&&(void 0===t[r]?t[r]=1:(n=!0,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("afterend",Sa11y.annotate(a.ERROR,a.QA_DUPLICATE_ID(r),!0))))}))}if(!0===e.underlinedTextQA){Array.from(Sa11y.root.querySelectorAll("u")).forEach((e=>{Sa11y.warningCount++,e.classList.add("sa11y-warning-text"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.QA_TEXT_UNDERLINE_WARNING))}));Array.from(Sa11y.root.querySelectorAll("h1, h2, h3, h4, h5, h6, p, div, span, li, blockquote")).forEach((e=>{"underline"===getComputedStyle(e).textDecorationLine&&(Sa11y.warningCount++,e.classList.add("sa11y-warning-text"),e.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.QA_TEXT_UNDERLINE_WARNING)))}))}},this.checkContrast=()=>{let e={errors:[],warnings:[]},t=this.$contrast,n={parseRgb:function(e){let t,a,n,r,s;if(a=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(n=a.slice(1,4),t=r=0;r<=2;t=++r)n[t]=+n[t];n[3]=1}else if(a=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(n=a.slice(1,5),t=s=0;s<=3;t=++s)n[t]=+n[t];return n},relativeLuminance:function(e){let t=[];for(let a=0;a<3;a++){let n=e[a]/255;t.push(n<.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrastRatio:function(e,t){let a=n.relativeLuminance(n.parseRgb(e)),r=n.relativeLuminance(n.parseRgb(t));return(Math.max(a,r)+.05)/(Math.min(a,r)+.05)},getBackground:function(e){let t=getComputedStyle(e),a=t.backgroundColor,r=t.backgroundImage,s=(n.parseRgb(a)+"").split(",");return s[3]<1&&s[3]>0?"alpha":"rgba(0, 0, 0, 0)"!==a&&"transparent"!==a&&"none"===r&&"0"!==s[3]?a:"none"!==r?"image":"HTML"===e.tagName?"rgb(255, 255, 255)":n.getBackground(e.parentNode)},check:function(){e={errors:[],warnings:[]};for(let a=0;a<t.length;a++)!function(a){let r=t[a];if(n){let t,a,s,i=getComputedStyle(r),l=i.color,o=i.fill,d=3*parseInt(i.fontSize)/4,c=i.fontWeight,y=r.tagName,u=n.getBackground(r),g=[].reduce.call(r.childNodes,(function(e,t){return e+(3===t.nodeType?t.textContent:"")}),"").trim();"SVG"===y?(t=Math.round(100*n.contrastRatio(o,u))/100,t<3&&(a={elem:r,ratio:t+":1"},e.errors.push(a))):(g.length||"INPUT"===y||"SELECT"===y||"TEXTAREA"===y)&&("image"===u||"alpha"===u?(s={elem:r},e.warnings.push(s)):(t=Math.round(100*n.contrastRatio(l,u))/100,d>=18||d>=14&&c>=700?t<3&&(a={elem:r,ratio:t+":1"},e.errors.push(a)):t<4.5&&(a={elem:r,ratio:t+":1"},e.errors.push(a))))}}(a);return e}};n.check(),e.errors.forEach((e=>{let t=e.elem,n=e.ratio,r=t.cloneNode(!0),s=r.querySelectorAll(".sa11y-heading-label");for(let e=0;e<s.length;e++)r.removeChild(s[e]);let i=Sa11y.fnIgnore(r,"script").textContent;Sa11y.errorCount++,"INPUT"===t.tagName?t.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.CONTRAST_INPUT_ERROR(n))):t.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.ERROR,a.CONTRAST_ERROR(n,i)))})),e.warnings.forEach((e=>{let t=e.elem,n=t.cloneNode(!0),r=n.querySelectorAll(".sa11y-heading-label");for(let e=0;e<r.length;e++)n.removeChild(r[e]);let s=Sa11y.fnIgnore(n,"script").textContent;Sa11y.warningCount++,t.insertAdjacentHTML("beforebegin",Sa11y.annotate(a.WARNING,a.CONTRAST_WARNING(s)))}))},this.checkReadability=()=>{function t(e){if((e=e.toLowerCase().replace(".","").replace("\n","")).length<=3)return 1;let t=(e=(e=e.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/,"")).replace(/^y/,"")).match(/[aeiouy]{1,2}/g),a=0;return t&&(a=t.length),a}this.$readability.forEach((e=>{let t=e.textContent;t.length>=120&&"."!==t.charAt(t.length-1)&&e.insertAdjacentHTML("beforeend","<span class='sa11y-readability-period sa11y-visually-hidden'>.</span>")}));let n=[];for(let e=0;e<this.$readability.length;e++){let t=this.$readability[e];""!==t.textContent.replace(/ |\n/g,"")&&n.push(t.textContent)}let r=n.join(" ").trim().toString(),s=r.replace(/[.!?-]+/g," ").split(" "),i=0;for(let e=0;e<s.length;e++)0!=s[e]&&(i+=1);let l=r.split(/[.!?]+/),o=0;for(let e=0;e<l.length;e++)""!==l[e]&&(o+=1);let d,c=0,y=0,u=0;for(let e=0;e<s.length;e++)if(0!=s[e]){let a=t(s[e]);1===a&&(y+=1),2===a&&(u+=1),c+=a}"en"===e.readabilityLang?d=206.835-1.015*i/o-84.6*c/i:"fr"===e.readabilityLang?d=207-1.015*i/o-73.6*c/i:"es"===e.readabilityLang?d=206.84-1.02*i/o-100*c/i*.6:"de"===e.readabilityLang?d=180-i/o-c/i*58.5:"nl"===e.readabilityLang?d=206.84-100*c/i*.77-i/o*.93:"it"===e.readabilityLang&&(d=217-i/o*1.3-100*c/i*.6),d>100?d=100:d<0&&(d=0);const g=document.getElementById("sa11y-readability-info");if(0===r.length)g.innerHTML=a.READABILITY_NO_P_OR_LI_MESSAGE;else if(i>30){let e=d.toFixed(1),t=(i/o).toFixed(1),n=Math.round((i-(y+u))/i*100);g.innerHTML=e>=0&&e<30?`<span>${e}</span> \n\t\t\t\t\t\t<span class="sa11y-readability-score">${a.LANG_VERY_DIFFICULT}</span>`:e>31&&e<49?`<span>${e}</span> \n\t\t\t\t\t\t<span class="sa11y-readability-score">${a.LANG_DIFFICULT}</span>`:e>50&&e<60?`<span>${e}</span> \n\t\t\t\t\t\t<span class="sa11y-readability-score">${a.LANG_FAIRLY_DIFFICULT}</span>`:`<span>${e}</span> \n\t\t\t\t\t\t<span class="sa11y-readability-score">${a.LANG_GOOD}</span>`,document.getElementById("sa11y-readability-details").innerHTML=`<li><span class='sa11y-bold'>${a.LANG_AVG_SENTENCE}</span> ${t}</li>\n\t\t\t\t<li><span class='sa11y-bold'>${a.LANG_COMPLEX_WORDS}</span> ${n}%</li>\n\t\t\t\t<li><span class='sa11y-bold'>${a.LANG_TOTAL_WORDS}</span> ${i}</li>`}else g.textContent=a.READABILITY_NOT_ENOUGH_CONTENT_MESSAGE},this.initialize()}}
//# sourceMappingURL=/sm/72b34111184873d3eab4f93c9deae25195a43c9a4ce6f9d50cc6bef6d5bdd946.map